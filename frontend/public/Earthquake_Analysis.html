<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>2c0446f79a2e4e61a6da54b6f4fde372</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell code" data-execution_count="18"
data-_cell_guid="b1076dfc-b9ad-4769-8c92-a6c4dae69d19"
data-_uuid="8f2839f25d086af736a60e9eeb907d3b93b6e0e5"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:08:23.637468Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:08:23.637009Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:08:58.042009Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:08:58.040567Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:08:23.637426Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install prophet</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Commented out IPython magic to ensure Python compatibility.</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#import library package</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.subplots <span class="im">import</span> make_subplots</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.figure_factory <span class="im">as</span> ff</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> date</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> timedelta</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gc</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tqdm <span class="im">import</span> tqdm</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pylab <span class="im">import</span> rcParams</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> probplot</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> prophet <span class="im">import</span> Prophet</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># %matplotlib inline</span></span></code></pre></div>
<div class="output stream stdout">
<pre><code>Requirement already satisfied: prophet in /opt/conda/lib/python3.10/site-packages (1.1.5)
Requirement already satisfied: cmdstanpy&gt;=1.0.4 in /opt/conda/lib/python3.10/site-packages (from prophet) (1.2.4)
Requirement already satisfied: numpy&gt;=1.15.4 in /opt/conda/lib/python3.10/site-packages (from prophet) (1.26.4)
Requirement already satisfied: matplotlib&gt;=2.0.0 in /opt/conda/lib/python3.10/site-packages (from prophet) (3.7.5)
Requirement already satisfied: pandas&gt;=1.0.4 in /opt/conda/lib/python3.10/site-packages (from prophet) (2.2.3)
Requirement already satisfied: holidays&gt;=0.25 in /opt/conda/lib/python3.10/site-packages (from prophet) (0.57)
Requirement already satisfied: tqdm&gt;=4.36.1 in /opt/conda/lib/python3.10/site-packages (from prophet) (4.66.4)
Requirement already satisfied: importlib-resources in /opt/conda/lib/python3.10/site-packages (from prophet) (6.4.0)
Requirement already satisfied: stanio&lt;2.0.0,&gt;=0.4.0 in /opt/conda/lib/python3.10/site-packages (from cmdstanpy&gt;=1.0.4-&gt;prophet) (0.5.1)
Requirement already satisfied: python-dateutil in /opt/conda/lib/python3.10/site-packages (from holidays&gt;=0.25-&gt;prophet) (2.9.0.post0)
Requirement already satisfied: contourpy&gt;=1.0.1 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (1.2.1)
Requirement already satisfied: cycler&gt;=0.10 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (4.53.0)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (1.4.5)
Requirement already satisfied: packaging&gt;=20.0 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (21.3)
Requirement already satisfied: pillow&gt;=6.2.0 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (10.3.0)
Requirement already satisfied: pyparsing&gt;=2.3.1 in /opt/conda/lib/python3.10/site-packages (from matplotlib&gt;=2.0.0-&gt;prophet) (3.1.2)
Requirement already satisfied: pytz&gt;=2020.1 in /opt/conda/lib/python3.10/site-packages (from pandas&gt;=1.0.4-&gt;prophet) (2024.1)
Requirement already satisfied: tzdata&gt;=2022.7 in /opt/conda/lib/python3.10/site-packages (from pandas&gt;=1.0.4-&gt;prophet) (2024.1)
Requirement already satisfied: six&gt;=1.5 in /opt/conda/lib/python3.10/site-packages (from python-dateutil-&gt;holidays&gt;=0.25-&gt;prophet) (1.16.0)
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>Dataset Link: <a
href="https://www.kaggle.com/datasets/kekavigi/earthquakes-in-indonesia"
class="uri">https://www.kaggle.com/datasets/kekavigi/earthquakes-in-indonesia</a></p>
</div>
<div class="cell code" data-execution_count="4"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:05:22.536298Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:05:22.535604Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:05:22.951669Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:05:22.950363Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:05:22.536248Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset from the input directory in Kaggle</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">&#39;/kaggle/input/indonesia-earthquakes-2008-2023/katalog_gempa.csv&#39;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="cell code" data-execution_count="5"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:05:26.060866Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:05:26.060397Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:05:26.096555Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:05:26.095190Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:05:26.060823Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview the data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="5">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tgl</th>
      <th>ot</th>
      <th>lat</th>
      <th>lon</th>
      <th>depth</th>
      <th>mag</th>
      <th>remark</th>
      <th>strike1</th>
      <th>dip1</th>
      <th>rake1</th>
      <th>strike2</th>
      <th>dip2</th>
      <th>rake2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2008/11/01</td>
      <td>21:02:43.058</td>
      <td>-9.18</td>
      <td>119.06</td>
      <td>10</td>
      <td>4.9</td>
      <td>Sumba Region - Indonesia</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2008/11/01</td>
      <td>20:58:50.248</td>
      <td>-6.55</td>
      <td>129.64</td>
      <td>10</td>
      <td>4.6</td>
      <td>Banda Sea</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2008/11/01</td>
      <td>17:43:12.941</td>
      <td>-7.01</td>
      <td>106.63</td>
      <td>121</td>
      <td>3.7</td>
      <td>Java - Indonesia</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2008/11/01</td>
      <td>16:24:14.755</td>
      <td>-3.30</td>
      <td>127.85</td>
      <td>10</td>
      <td>3.2</td>
      <td>Seram - Indonesia</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2008/11/01</td>
      <td>16:20:37.327</td>
      <td>-6.41</td>
      <td>129.54</td>
      <td>70</td>
      <td>4.3</td>
      <td>Banda Sea</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="6"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:05:28.963884Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:05:28.963421Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:05:28.986845Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:05:28.985631Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:05:28.963833Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data.tail()</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output execute_result" data-execution_count="6">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tgl</th>
      <th>ot</th>
      <th>lat</th>
      <th>lon</th>
      <th>depth</th>
      <th>mag</th>
      <th>remark</th>
      <th>strike1</th>
      <th>dip1</th>
      <th>rake1</th>
      <th>strike2</th>
      <th>dip2</th>
      <th>rake2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>92882</th>
      <td>2023/01/26</td>
      <td>02:25:09.288</td>
      <td>3.24</td>
      <td>127.18</td>
      <td>10</td>
      <td>4.0</td>
      <td>Talaud Islands - Indonesia</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>92883</th>
      <td>2023/01/26</td>
      <td>02:15:03.893</td>
      <td>2.70</td>
      <td>127.10</td>
      <td>10</td>
      <td>3.9</td>
      <td>Northern Molucca Sea</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>92884</th>
      <td>2023/01/26</td>
      <td>01:57:08.885</td>
      <td>-7.83</td>
      <td>121.07</td>
      <td>10</td>
      <td>3.8</td>
      <td>Flores Sea</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>92885</th>
      <td>2023/01/26</td>
      <td>01:46:21.009</td>
      <td>3.00</td>
      <td>127.16</td>
      <td>10</td>
      <td>4.1</td>
      <td>Northern Molucca Sea</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>92886</th>
      <td>2023/01/26</td>
      <td>00:00:35.181</td>
      <td>-8.87</td>
      <td>118.95</td>
      <td>10</td>
      <td>2.4</td>
      <td>Sumbawa Region - Indonesia</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="7"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:05:32.169815Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:05:32.168978Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:05:32.177427Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:05:32.175950Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:05:32.169763Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the shape of the dataset</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>data.shape</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output execute_result" data-execution_count="7">
<pre><code>(92887, 13)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="8"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:05:34.518205Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:05:34.517721Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:05:34.588394Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:05:34.587195Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:05:34.518160Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the dataset info</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 92887 entries, 0 to 92886
Data columns (total 13 columns):
 #   Column   Non-Null Count  Dtype  
---  ------   --------------  -----  
 0   tgl      92887 non-null  object 
 1   ot       92887 non-null  object 
 2   lat      92887 non-null  float64
 3   lon      92887 non-null  float64
 4   depth    92887 non-null  int64  
 5   mag      92887 non-null  float64
 6   remark   92887 non-null  object 
 7   strike1  2735 non-null   float64
 8   dip1     2735 non-null   float64
 9   rake1    2735 non-null   float64
 10  strike2  2735 non-null   float64
 11  dip2     2735 non-null   float64
 12  rake2    2735 non-null   float64
dtypes: float64(9), int64(1), object(3)
memory usage: 9.2+ MB
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="9"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:05:37.433164Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:05:37.432685Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:05:37.793920Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:05:37.792491Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:05:37.433121Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">&quot;&quot;&quot;## EDA (Exploratory Data Analysis)&quot;&quot;&quot;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing data</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>data.isnull().<span class="bu">sum</span>()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for duplicated data</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.duplicated().value_counts())</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Check length of date data</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>lengths <span class="op">=</span> data[<span class="st">&quot;tgl&quot;</span>].<span class="bu">str</span>.<span class="bu">len</span>()</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>lengths.value_counts()</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Check length of time data</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>lengths <span class="op">=</span> data[<span class="st">&quot;ot&quot;</span>].<span class="bu">str</span>.<span class="bu">len</span>()</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>lengths.value_counts()</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop irrelevant columns</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> data.drop([<span class="st">&#39;strike1&#39;</span>, <span class="st">&#39;dip1&#39;</span>, <span class="st">&#39;rake1&#39;</span>, <span class="st">&#39;strike2&#39;</span>, <span class="st">&#39;dip2&#39;</span>, <span class="st">&#39;rake2&#39;</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>data.head()</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a single column for date and time</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>ot <span class="op">=</span> pd.to_datetime(data[<span class="st">&#39;tgl&#39;</span>] <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> data[<span class="st">&#39;ot&#39;</span>])</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;ot&#39;</span>] <span class="op">=</span> ot</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>data.drop([<span class="st">&#39;tgl&#39;</span>], axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>data.head()</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>data.rename(columns<span class="op">=</span>{<span class="st">&#39;ot&#39;</span>: <span class="st">&#39;earthquake_time&#39;</span>, <span class="st">&#39;lat&#39;</span>: <span class="st">&#39;latitude&#39;</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;lon&#39;</span>: <span class="st">&#39;longitude&#39;</span>, <span class="st">&#39;depth&#39;</span>: <span class="st">&#39;earthquake_depth&#39;</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&#39;mag&#39;</span>: <span class="st">&#39;earthquake_magnitude&#39;</span>, <span class="st">&#39;remark&#39;</span>: <span class="st">&#39;earthquake_location&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>data.columns</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>data</span></code></pre></div>
<div class="output stream stdout">
<pre><code>False    92887
Name: count, dtype: int64
</code></pre>
</div>
<div class="output execute_result" data-execution_count="9">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>earthquake_time</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>earthquake_depth</th>
      <th>earthquake_magnitude</th>
      <th>earthquake_location</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2008-11-01 21:02:43.058</td>
      <td>-9.18</td>
      <td>119.06</td>
      <td>10</td>
      <td>4.9</td>
      <td>Sumba Region - Indonesia</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2008-11-01 20:58:50.248</td>
      <td>-6.55</td>
      <td>129.64</td>
      <td>10</td>
      <td>4.6</td>
      <td>Banda Sea</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2008-11-01 17:43:12.941</td>
      <td>-7.01</td>
      <td>106.63</td>
      <td>121</td>
      <td>3.7</td>
      <td>Java - Indonesia</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2008-11-01 16:24:14.755</td>
      <td>-3.30</td>
      <td>127.85</td>
      <td>10</td>
      <td>3.2</td>
      <td>Seram - Indonesia</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2008-11-01 16:20:37.327</td>
      <td>-6.41</td>
      <td>129.54</td>
      <td>70</td>
      <td>4.3</td>
      <td>Banda Sea</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>92882</th>
      <td>2023-01-26 02:25:09.288</td>
      <td>3.24</td>
      <td>127.18</td>
      <td>10</td>
      <td>4.0</td>
      <td>Talaud Islands - Indonesia</td>
    </tr>
    <tr>
      <th>92883</th>
      <td>2023-01-26 02:15:03.893</td>
      <td>2.70</td>
      <td>127.10</td>
      <td>10</td>
      <td>3.9</td>
      <td>Northern Molucca Sea</td>
    </tr>
    <tr>
      <th>92884</th>
      <td>2023-01-26 01:57:08.885</td>
      <td>-7.83</td>
      <td>121.07</td>
      <td>10</td>
      <td>3.8</td>
      <td>Flores Sea</td>
    </tr>
    <tr>
      <th>92885</th>
      <td>2023-01-26 01:46:21.009</td>
      <td>3.00</td>
      <td>127.16</td>
      <td>10</td>
      <td>4.1</td>
      <td>Northern Molucca Sea</td>
    </tr>
    <tr>
      <th>92886</th>
      <td>2023-01-26 00:00:35.181</td>
      <td>-8.87</td>
      <td>118.95</td>
      <td>10</td>
      <td>2.4</td>
      <td>Sumbawa Region - Indonesia</td>
    </tr>
  </tbody>
</table>
<p>92887 rows Ã— 6 columns</p>
</div>
</div>
</div>
<div class="cell code" data-execution_count="23"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:10:03.725397Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:10:03.724945Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:10:03.735971Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:10:03.733605Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:10:03.725356Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.columns)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Index([&#39;earthquake_time&#39;, &#39;latitude&#39;, &#39;longitude&#39;, &#39;earthquake_depth&#39;,
       &#39;earthquake_magnitude&#39;, &#39;earthquake_location&#39;],
      dtype=&#39;object&#39;)
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="74"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:08:21.193886Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:08:21.193405Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:08:21.889030Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:08:21.887762Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:08:21.193842Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of Earthquakes over time</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;earthquake_time&#39;</span>] <span class="op">=</span> pd.to_datetime(data[<span class="st">&#39;earthquake_time&#39;</span>])  <span class="co"># Convert to datetime</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;year&#39;</span>] <span class="op">=</span> data[<span class="st">&#39;earthquake_time&#39;</span>].dt.year  <span class="co"># Extract year</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and count occurrences</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>earthquake_counts <span class="op">=</span> data.groupby(<span class="st">&#39;year&#39;</span>).size()</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>plt.plot(earthquake_counts.index, earthquake_counts.values, marker<span class="op">=</span><span class="st">&#39;o&#39;</span>, linestyle<span class="op">=</span><span class="st">&#39;-&#39;</span>, color<span class="op">=</span><span class="st">&#39;b&#39;</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Earthquakes Over Time (By Year)&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Earthquakes&#39;</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/81ab54ec34fd465ceeafe69656e44578a354e49d.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="75"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:11:28.932945Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:11:28.931346Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:11:29.318607Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:11:29.317250Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:11:28.932867Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Earthquake Magnitude Distribution</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>plt.hist(data[<span class="st">&#39;earthquake_magnitude&#39;</span>], bins<span class="op">=</span><span class="dv">20</span>, edgecolor<span class="op">=</span><span class="st">&#39;black&#39;</span>, color<span class="op">=</span><span class="st">&#39;skyblue&#39;</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Earthquake Strength Distribution&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Earthquake Magnitude&#39;</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Frequency&#39;</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/9f045651fada144374d8e802637fb2c2a7816b75.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="76"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:11:54.318461Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:11:54.317319Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:11:54.710774Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:11:54.709354Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:11:54.318402Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Earthquake Depth Distribution</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>plt.hist(data[<span class="st">&#39;earthquake_depth&#39;</span>], bins<span class="op">=</span><span class="dv">30</span>, edgecolor<span class="op">=</span><span class="st">&#39;black&#39;</span>, color<span class="op">=</span><span class="st">&#39;lightgreen&#39;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Earthquake Depth Distribution&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Earthquake Depth (km)&#39;</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Frequency&#39;</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/46303450f3c012497d8351317334a1494b90811b.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="77"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:12:23.593827Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:12:23.593347Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:12:23.968024Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:12:23.966781Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:12:23.593782Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribution of Earthquakes every year</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>earthquake_counts <span class="op">=</span> data.groupby(<span class="st">&#39;year&#39;</span>).size()</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.bar(earthquake_counts.index, earthquake_counts.values, color<span class="op">=</span><span class="st">&#39;salmon&#39;</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Earthquake Frequency Distribution (By Year)&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Earthquakes&#39;</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/c6c65a5002fe9e0656bc8541e7809b3dbb05c575.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="78"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:12:57.039210Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:12:57.038788Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:12:57.682333Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:12:57.680720Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:12:57.039169Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Relationship between Earthquake Depth and Magnitude</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>plt.scatter(data[<span class="st">&#39;earthquake_depth&#39;</span>], data[<span class="st">&#39;earthquake_magnitude&#39;</span>], alpha<span class="op">=</span><span class="fl">0.6</span>, color<span class="op">=</span><span class="st">&#39;purple&#39;</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Relationship Between Earthquake Depth and Strength&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Earthquake Depth (km)&#39;</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Earthquake Magnitude&#39;</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/d0eb58f7e75cd9c2d2806274eee85e44d7bd7786.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="79"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:13:31.264727Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:13:31.264250Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:13:31.896177Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:13:31.894954Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:13:31.264683Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Indonesian Earthquake Strength 2008-2023</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>data_filtered <span class="op">=</span> data[(data[<span class="st">&#39;year&#39;</span>] <span class="op">&gt;=</span> <span class="dv">2008</span>) <span class="op">&amp;</span> (data[<span class="st">&#39;year&#39;</span>] <span class="op">&lt;=</span> <span class="dv">2023</span>)]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>plt.scatter(data_filtered[<span class="st">&#39;year&#39;</span>], data_filtered[<span class="st">&#39;earthquake_magnitude&#39;</span>], alpha<span class="op">=</span><span class="fl">0.6</span>, color<span class="op">=</span><span class="st">&#39;orange&#39;</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Indonesian Earthquake Strength (2008-2023)&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Year&#39;</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Earthquake Magnitude&#39;</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/530d1469b44f5eaac2c5eb297a83a9bb89854ae6.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="80"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:14:02.425134Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:14:02.424644Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:14:03.263009Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:14:03.261813Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:14:02.425092Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of Earthquakes Based on Location</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>location_counts <span class="op">=</span> data[<span class="st">&#39;earthquake_location&#39;</span>].value_counts()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>location_counts.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, color<span class="op">=</span><span class="st">&#39;teal&#39;</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Earthquakes by Location&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Location&#39;</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Earthquakes&#39;</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/476bcd0dd80eaa110c872c3501f36bf259cbab93.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="81"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:14:34.661806Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:14:34.661351Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:14:35.037161Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:14:35.035910Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:14:34.661762Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Top 10 Locations Where Earthquakes Occur Most Often</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>top_10_locations <span class="op">=</span> location_counts.head(<span class="dv">10</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>top_10_locations.plot(kind<span class="op">=</span><span class="st">&#39;bar&#39;</span>, color<span class="op">=</span><span class="st">&#39;green&#39;</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Top 10 Locations with Most Earthquakes&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Location&#39;</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Earthquakes&#39;</span>)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/98747dc87564ed97ef5daba22e33b1b586953375.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="82"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:15:02.746289Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:15:02.745860Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:15:13.204089Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:15:13.202554Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:15:02.746249Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Heatmap of Indonesian Earthquakes</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">&#39;longitude&#39;</span>, y<span class="op">=</span><span class="st">&#39;latitude&#39;</span>, data<span class="op">=</span>data, hue<span class="op">=</span><span class="st">&#39;earthquake_magnitude&#39;</span>, palette<span class="op">=</span><span class="st">&#39;viridis&#39;</span>, size<span class="op">=</span><span class="st">&#39;earthquake_magnitude&#39;</span>, sizes<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">200</span>))</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Heatmap of Indonesian Earthquakes&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Longitude&#39;</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Latitude&#39;</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/2d910561275d942d2e11921c418b010cbd9a1bde.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="83"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T18:15:40.658135Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T18:15:40.657662Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T18:15:41.067424Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T18:15:41.066249Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T18:15:40.658092Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 20 Earthquakes in Indonesia</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>top_20_earthquakes <span class="op">=</span> data.nlargest(<span class="dv">20</span>, <span class="st">&#39;earthquake_magnitude&#39;</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>plt.barh(top_20_earthquakes[<span class="st">&#39;earthquake_location&#39;</span>], top_20_earthquakes[<span class="st">&#39;earthquake_magnitude&#39;</span>], color<span class="op">=</span><span class="st">&#39;coral&#39;</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Top 20 Biggest Earthquakes in Indonesia&#39;</span>, fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Earthquake Magnitude&#39;</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Location&#39;</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/d2ff58c5dd09324f787dade4f305115f7378de51.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="34"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:12:02.536480Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:12:02.535853Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:12:03.138685Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:12:03.137421Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:12:02.536419Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select only numerical columns</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>numeric_data <span class="op">=</span> data.select_dtypes(include<span class="op">=</span>[<span class="bu">float</span>, <span class="bu">int</span>])</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate correlation and plot heatmap</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>correlation <span class="op">=</span> sns.heatmap(numeric_data.corr(), vmin<span class="op">=-</span><span class="dv">1</span>, vmax<span class="op">=</span><span class="dv">1</span>, annot<span class="op">=</span><span class="va">True</span>, linewidths<span class="op">=</span><span class="dv">1</span>, linecolor<span class="op">=</span><span class="st">&#39;black&#39;</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>correlation.set_title(<span class="st">&#39;Correlation Between Variables in the Dataset&#39;</span>, fontdict<span class="op">=</span>{<span class="st">&#39;fontsize&#39;</span>: <span class="dv">24</span>})</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/18908a2369b58b0b231fc75dc3e84e9f0a70a3cc.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="35"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:12:36.628708Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:12:36.628239Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:12:37.563037Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:12:37.561284Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:12:36.628661Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the earthquake time column into date and time</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>data[<span class="st">&#39;date&#39;</span>], data[<span class="st">&#39;time&#39;</span>] <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>[(d.date(), d.time()) <span class="cf">for</span> d <span class="kw">in</span> data[<span class="st">&#39;earthquake_time&#39;</span>]])</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="36"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:12:39.437231Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:12:39.436778Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:12:39.455881Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:12:39.454458Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:12:39.437186Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>data.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="36">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>earthquake_time</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>earthquake_depth</th>
      <th>earthquake_magnitude</th>
      <th>earthquake_location</th>
      <th>date</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2008-11-01 21:02:43.058</td>
      <td>-9.18</td>
      <td>119.06</td>
      <td>10</td>
      <td>4.9</td>
      <td>Sumba Region - Indonesia</td>
      <td>2008-11-01</td>
      <td>21:02:43.058000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2008-11-01 20:58:50.248</td>
      <td>-6.55</td>
      <td>129.64</td>
      <td>10</td>
      <td>4.6</td>
      <td>Banda Sea</td>
      <td>2008-11-01</td>
      <td>20:58:50.248000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2008-11-01 17:43:12.941</td>
      <td>-7.01</td>
      <td>106.63</td>
      <td>121</td>
      <td>3.7</td>
      <td>Java - Indonesia</td>
      <td>2008-11-01</td>
      <td>17:43:12.941000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2008-11-01 16:24:14.755</td>
      <td>-3.30</td>
      <td>127.85</td>
      <td>10</td>
      <td>3.2</td>
      <td>Seram - Indonesia</td>
      <td>2008-11-01</td>
      <td>16:24:14.755000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2008-11-01 16:20:37.327</td>
      <td>-6.41</td>
      <td>129.54</td>
      <td>70</td>
      <td>4.3</td>
      <td>Banda Sea</td>
      <td>2008-11-01</td>
      <td>16:20:37.327000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="43"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:24:12.731472Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:24:12.730915Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:24:12.752957Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:24:12.751455Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:24:12.731426Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>data.tail()</span></code></pre></div>
<div class="output execute_result" data-execution_count="43">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>earthquake_time</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>earthquake_depth</th>
      <th>earthquake_magnitude</th>
      <th>earthquake_location</th>
      <th>date</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>92882</th>
      <td>2023-01-26 02:25:09.288</td>
      <td>3.24</td>
      <td>127.18</td>
      <td>10</td>
      <td>4.0</td>
      <td>Talaud Islands - Indonesia</td>
      <td>2023-01-26</td>
      <td>02:25:09.288000</td>
    </tr>
    <tr>
      <th>92883</th>
      <td>2023-01-26 02:15:03.893</td>
      <td>2.70</td>
      <td>127.10</td>
      <td>10</td>
      <td>3.9</td>
      <td>Northern Molucca Sea</td>
      <td>2023-01-26</td>
      <td>02:15:03.893000</td>
    </tr>
    <tr>
      <th>92884</th>
      <td>2023-01-26 01:57:08.885</td>
      <td>-7.83</td>
      <td>121.07</td>
      <td>10</td>
      <td>3.8</td>
      <td>Flores Sea</td>
      <td>2023-01-26</td>
      <td>01:57:08.885000</td>
    </tr>
    <tr>
      <th>92885</th>
      <td>2023-01-26 01:46:21.009</td>
      <td>3.00</td>
      <td>127.16</td>
      <td>10</td>
      <td>4.1</td>
      <td>Northern Molucca Sea</td>
      <td>2023-01-26</td>
      <td>01:46:21.009000</td>
    </tr>
    <tr>
      <th>92886</th>
      <td>2023-01-26 00:00:35.181</td>
      <td>-8.87</td>
      <td>118.95</td>
      <td>10</td>
      <td>2.4</td>
      <td>Sumbawa Region - Indonesia</td>
      <td>2023-01-26</td>
      <td>00:00:35.181000</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="38"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:14:06.735823Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:14:06.735316Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:14:06.797205Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:14:06.796044Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:14:06.735774Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a new dataset</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>data0 <span class="op">=</span> data.fillna(<span class="st">&#39;N&#39;</span>)  <span class="co"># Fill missing values with &#39;N&#39;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>data1 <span class="op">=</span> data0[[<span class="st">&#39;date&#39;</span>, <span class="st">&#39;latitude&#39;</span>, <span class="st">&#39;longitude&#39;</span>, <span class="st">&#39;earthquake_depth&#39;</span>, <span class="st">&#39;earthquake_magnitude&#39;</span>]]  <span class="co"># Select specific columns</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>data1  <span class="co"># Display the new dataset</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="38">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>earthquake_depth</th>
      <th>earthquake_magnitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2008-11-01</td>
      <td>-9.18</td>
      <td>119.06</td>
      <td>10</td>
      <td>4.9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2008-11-01</td>
      <td>-6.55</td>
      <td>129.64</td>
      <td>10</td>
      <td>4.6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2008-11-01</td>
      <td>-7.01</td>
      <td>106.63</td>
      <td>121</td>
      <td>3.7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2008-11-01</td>
      <td>-3.30</td>
      <td>127.85</td>
      <td>10</td>
      <td>3.2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2008-11-01</td>
      <td>-6.41</td>
      <td>129.54</td>
      <td>70</td>
      <td>4.3</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>92882</th>
      <td>2023-01-26</td>
      <td>3.24</td>
      <td>127.18</td>
      <td>10</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>92883</th>
      <td>2023-01-26</td>
      <td>2.70</td>
      <td>127.10</td>
      <td>10</td>
      <td>3.9</td>
    </tr>
    <tr>
      <th>92884</th>
      <td>2023-01-26</td>
      <td>-7.83</td>
      <td>121.07</td>
      <td>10</td>
      <td>3.8</td>
    </tr>
    <tr>
      <th>92885</th>
      <td>2023-01-26</td>
      <td>3.00</td>
      <td>127.16</td>
      <td>10</td>
      <td>4.1</td>
    </tr>
    <tr>
      <th>92886</th>
      <td>2023-01-26</td>
      <td>-8.87</td>
      <td>118.95</td>
      <td>10</td>
      <td>2.4</td>
    </tr>
  </tbody>
</table>
<p>92887 rows Ã— 5 columns</p>
</div>
</div>
</div>
<div class="cell code" data-execution_count="40"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:15:45.836556Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:15:45.835940Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:15:47.174267Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:15:47.172786Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:15:45.836494Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create another data for modeling</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> data1[[<span class="st">&#39;date&#39;</span>, <span class="st">&#39;earthquake_magnitude&#39;</span>]]</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>data2</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>item1 <span class="op">=</span> data2</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>item1.columns <span class="op">=</span> [<span class="st">&#39;ds&#39;</span>, <span class="st">&#39;y&#39;</span>]</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>item1.y <span class="op">=</span> item1.y.astype(<span class="st">&#39;float&#39;</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>item1.ds <span class="op">=</span> item1.ds.astype(<span class="st">&#39;datetime64[ns]&#39;</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>rcParams[<span class="st">&#39;figure.figsize&#39;</span>] <span class="op">=</span> <span class="dv">20</span>, <span class="dv">5</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>plt.plot(item1.ds, item1.y)</span></code></pre></div>
<div class="output execute_result" data-execution_count="40">
<pre><code>[&lt;matplotlib.lines.Line2D at 0x79c170241d80&gt;]</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/88dfb528d86dd257d04eb9ab8ace92153d6fef6f.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="42"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:18:23.558793Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:18:23.558282Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:19:20.031874Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:19:20.030520Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:18:23.558739Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">&quot;&quot;&quot;## Forecasting Using Prophet&quot;&quot;&quot;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit Prophet Model</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the Prophet model</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>ph <span class="op">=</span> Prophet()</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model to the dataset</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>ph.fit(item1)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Make predictions (forecasting future values)</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>forecast1 <span class="op">=</span> ph.predict(item1)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the forecasted results</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>figure <span class="op">=</span> ph.plot(forecast1)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>figure.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>17:18:29 - cmdstanpy - INFO - Chain [1] start processing
17:19:01 - cmdstanpy - INFO - Chain [1] done processing
/opt/conda/lib/python3.10/site-packages/prophet/plot.py:72: FutureWarning:

The behavior of DatetimeProperties.to_pydatetime is deprecated, in a future version this will return a Series containing python datetime objects instead of an ndarray. To retain the old behavior, call `np.array` on the result

/opt/conda/lib/python3.10/site-packages/prophet/plot.py:73: FutureWarning:

The behavior of DatetimeProperties.to_pydatetime is deprecated, in a future version this will return a Series containing python datetime objects instead of an ndarray. To retain the old behavior, call `np.array` on the result

</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/6e32e44b7a4c0c36b0cb23e479d83028d40f4a77.png" /></p>
</div>
</div>
<div class="cell markdown">
<p><strong>Previous + Future Data Prediction and Past Data
Fit</strong></p>
</div>
<div class="cell code" data-execution_count="46"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:40:03.254201Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:40:03.253744Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:40:03.261384Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:40:03.260104Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:40:03.254155Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> timedelta</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the start and end dates</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>start0 <span class="op">=</span> dt.datetime.strptime(<span class="st">&#39;2023-01-27&#39;</span>, <span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st">&#39;</span>).date()</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>end0   <span class="op">=</span> dt.datetime.strptime(<span class="st">&#39;2026-12-31&#39;</span>, <span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st">&#39;</span>).date()</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the difference in days between the two dates</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>((end0 <span class="op">-</span> start0).days)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>1434
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="48"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:40:10.511831Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:40:10.511353Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:40:10.518213Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:40:10.516984Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:40:10.511787Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> daterange(start,end):</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>((end<span class="op">-</span>start).days):</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> start<span class="op">+</span>timedelta(i)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="50"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:40:15.865235Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:40:15.864779Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:40:15.880527Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:40:15.879082Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:40:15.865192Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>dates0<span class="op">=</span>[]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>((end0<span class="op">-</span>start0).days):</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    dates0<span class="op">+=</span>[(start0<span class="op">+</span>timedelta(i)).strftime(<span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st">&#39;</span>) ]</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dates0[<span class="dv">0</span>:<span class="dv">30</span>])</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[&#39;2023-01-27&#39;, &#39;2023-01-28&#39;, &#39;2023-01-29&#39;, &#39;2023-01-30&#39;, &#39;2023-01-31&#39;, &#39;2023-02-01&#39;, &#39;2023-02-02&#39;, &#39;2023-02-03&#39;, &#39;2023-02-04&#39;, &#39;2023-02-05&#39;, &#39;2023-02-06&#39;, &#39;2023-02-07&#39;, &#39;2023-02-08&#39;, &#39;2023-02-09&#39;, &#39;2023-02-10&#39;, &#39;2023-02-11&#39;, &#39;2023-02-12&#39;, &#39;2023-02-13&#39;, &#39;2023-02-14&#39;, &#39;2023-02-15&#39;, &#39;2023-02-16&#39;, &#39;2023-02-17&#39;, &#39;2023-02-18&#39;, &#39;2023-02-19&#39;, &#39;2023-02-20&#39;, &#39;2023-02-21&#39;, &#39;2023-02-22&#39;, &#39;2023-02-23&#39;, &#39;2023-02-24&#39;, &#39;2023-02-25&#39;]
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="51"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:40:19.915121Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:40:19.914673Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:40:19.930060Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:40:19.928870Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:40:19.915078Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>dates0_df<span class="op">=</span>pd.DataFrame(dates0)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>dates0_df.columns<span class="op">=</span>[<span class="st">&#39;ds&#39;</span>]</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>dates0_df</span></code></pre></div>
<div class="output execute_result" data-execution_count="51">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023-01-27</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023-01-28</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023-01-29</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023-01-30</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023-01-31</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1429</th>
      <td>2026-12-26</td>
    </tr>
    <tr>
      <th>1430</th>
      <td>2026-12-27</td>
    </tr>
    <tr>
      <th>1431</th>
      <td>2026-12-28</td>
    </tr>
    <tr>
      <th>1432</th>
      <td>2026-12-29</td>
    </tr>
    <tr>
      <th>1433</th>
      <td>2026-12-30</td>
    </tr>
  </tbody>
</table>
<p>1434 rows Ã— 1 columns</p>
</div>
</div>
</div>
<div class="cell code" data-execution_count="53"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:40:57.323208Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:40:57.322771Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:41:37.424705Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:41:37.423556Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:40:57.323169Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>ph <span class="op">=</span> Prophet()</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>ph.fit(item1)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>forecast3<span class="op">=</span>ph.predict(dates0_df)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>figure <span class="op">=</span> ph.plot(forecast3)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>figure.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>17:41:02 - cmdstanpy - INFO - Chain [1] start processing
17:41:35 - cmdstanpy - INFO - Chain [1] done processing
/opt/conda/lib/python3.10/site-packages/prophet/plot.py:72: FutureWarning:

The behavior of DatetimeProperties.to_pydatetime is deprecated, in a future version this will return a Series containing python datetime objects instead of an ndarray. To retain the old behavior, call `np.array` on the result

/opt/conda/lib/python3.10/site-packages/prophet/plot.py:73: FutureWarning:

The behavior of DatetimeProperties.to_pydatetime is deprecated, in a future version this will return a Series containing python datetime objects instead of an ndarray. To retain the old behavior, call `np.array` on the result

</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_d5e9985b33f44de2b96a6a688d949e6c/c8a2748458f5a343666a0b95403e2ed5d47623c2.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="54"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:42:46.951821Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:42:46.951315Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:42:46.970835Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:42:46.969398Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:42:46.951778Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>forecast3[[<span class="st">&#39;ds&#39;</span>,<span class="st">&#39;yhat&#39;</span>,<span class="st">&#39;yhat_lower&#39;</span>,<span class="st">&#39;yhat_upper&#39;</span>]][<span class="dv">339</span>:<span class="dv">704</span>]<span class="co">#[&#39;yhat&#39;].max()</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="54">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ds</th>
      <th>yhat</th>
      <th>yhat_lower</th>
      <th>yhat_upper</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>339</th>
      <td>2024-01-01</td>
      <td>3.383862</td>
      <td>2.270962</td>
      <td>4.378031</td>
    </tr>
    <tr>
      <th>340</th>
      <td>2024-01-02</td>
      <td>3.406921</td>
      <td>2.348212</td>
      <td>4.513084</td>
    </tr>
    <tr>
      <th>341</th>
      <td>2024-01-03</td>
      <td>3.424904</td>
      <td>2.363293</td>
      <td>4.451442</td>
    </tr>
    <tr>
      <th>342</th>
      <td>2024-01-04</td>
      <td>3.403684</td>
      <td>2.395339</td>
      <td>4.513707</td>
    </tr>
    <tr>
      <th>343</th>
      <td>2024-01-05</td>
      <td>3.386666</td>
      <td>2.367084</td>
      <td>4.410093</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>699</th>
      <td>2024-12-26</td>
      <td>3.378268</td>
      <td>2.277756</td>
      <td>4.469168</td>
    </tr>
    <tr>
      <th>700</th>
      <td>2024-12-27</td>
      <td>3.360340</td>
      <td>2.271069</td>
      <td>4.451038</td>
    </tr>
    <tr>
      <th>701</th>
      <td>2024-12-28</td>
      <td>3.424753</td>
      <td>2.244171</td>
      <td>4.546816</td>
    </tr>
    <tr>
      <th>702</th>
      <td>2024-12-29</td>
      <td>3.403754</td>
      <td>2.325203</td>
      <td>4.585716</td>
    </tr>
    <tr>
      <th>703</th>
      <td>2024-12-30</td>
      <td>3.366229</td>
      <td>2.251870</td>
      <td>4.537073</td>
    </tr>
  </tbody>
</table>
<p>365 rows Ã— 4 columns</p>
</div>
</div>
</div>
<div class="cell code" data-execution_count="57"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:43:11.640063Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:43:11.639613Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:43:11.660431Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:43:11.658742Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:43:11.640019Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>forecast4<span class="op">=</span>forecast3[[<span class="st">&#39;ds&#39;</span>,<span class="st">&#39;yhat&#39;</span>,<span class="st">&#39;yhat_lower&#39;</span>,<span class="st">&#39;yhat_upper&#39;</span>]][<span class="dv">339</span>:<span class="dv">704</span><span class="op">*</span><span class="dv">2</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>forecast4.to_csv(<span class="st">&#39;/kaggle/working/forecast_earthquake_strength.csv&#39;</span>)</span></code></pre></div>
</div>
<div class="cell markdown">
<ul>
<li><p>ds: This is the date for each forecasted entry. It corresponds to
the dates for which the model has generated predictions.</p></li>
<li><p>yhat: This is the model's predicted value for earthquake
magnitude on each date in ds. It's the main output of the model and
represents the expected value of earthquake magnitude as per the
forecast.</p></li>
<li><p>yhat_lower: This is the lower bound of the prediction interval
for yhat. It indicates the lowest value that the earthquake magnitude is
likely to take on a particular date, based on the model's confidence
interval. This gives an idea of the potential variation or uncertainty
in the prediction on the lower side.</p></li>
<li><p>yhat_upper: This is the upper bound of the prediction interval
for yhat</p></li>
</ul>
</div>
<div class="cell markdown">
<p>Prediction of Maximum Earthquake Strength During 2024</p>
</div>
<div class="cell code" data-execution_count="58"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:45:50.600461Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:45:50.599995Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:45:50.608330Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:45:50.607081Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:45:50.600421Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>mag0<span class="op">=</span>forecast3[<span class="dv">339</span>:<span class="dv">1434</span><span class="op">*</span><span class="dv">2</span>][<span class="st">&#39;yhat&#39;</span>].<span class="bu">max</span>()</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mag0)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>3.5519744604165435
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="59"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:45:54.109351Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:45:54.108536Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:45:54.132800Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:45:54.131588Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:45:54.109306Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>forecast3[forecast3[<span class="st">&#39;yhat&#39;</span>]<span class="op">==</span>mag0]</span></code></pre></div>
<div class="output execute_result" data-execution_count="59">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ds</th>
      <th>trend</th>
      <th>yhat_lower</th>
      <th>yhat_upper</th>
      <th>trend_lower</th>
      <th>trend_upper</th>
      <th>additive_terms</th>
      <th>additive_terms_lower</th>
      <th>additive_terms_upper</th>
      <th>weekly</th>
      <th>weekly_lower</th>
      <th>weekly_upper</th>
      <th>yearly</th>
      <th>yearly_lower</th>
      <th>yearly_upper</th>
      <th>multiplicative_terms</th>
      <th>multiplicative_terms_lower</th>
      <th>multiplicative_terms_upper</th>
      <th>yhat</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>540</th>
      <td>2024-07-20</td>
      <td>3.381355</td>
      <td>2.533897</td>
      <td>4.686953</td>
      <td>3.128949</td>
      <td>3.602838</td>
      <td>0.170619</td>
      <td>0.170619</td>
      <td>0.170619</td>
      <td>0.035853</td>
      <td>0.035853</td>
      <td>0.035853</td>
      <td>0.134767</td>
      <td>0.134767</td>
      <td>0.134767</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>3.551974</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="60"
data-execution="{&quot;iopub.execute_input&quot;:&quot;2024-11-11T17:46:00.234171Z&quot;,&quot;iopub.status.busy&quot;:&quot;2024-11-11T17:46:00.233729Z&quot;,&quot;iopub.status.idle&quot;:&quot;2024-11-11T17:46:00.440905Z&quot;,&quot;shell.execute_reply&quot;:&quot;2024-11-11T17:46:00.439574Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2024-11-11T17:46:00.234129Z&quot;}"
data-trusted="true">
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The actual earthquake data</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>actual_data <span class="op">=</span> item1[[<span class="st">&#39;ds&#39;</span>, <span class="st">&#39;y&#39;</span>]]</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The forecasted data for the same dates as in `item1`</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>predicted_data <span class="op">=</span> forecast1[[<span class="st">&#39;ds&#39;</span>, <span class="st">&#39;yhat&#39;</span>]]</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge actual and predicted data on &#39;ds&#39; to align them by date</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>comparison_df <span class="op">=</span> actual_data.merge(predicted_data, on<span class="op">=</span><span class="st">&#39;ds&#39;</span>, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate MSE between the actual and predicted earthquake magnitudes</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>mse <span class="op">=</span> mean_squared_error(comparison_df[<span class="st">&#39;y&#39;</span>], comparison_df[<span class="st">&#39;yhat&#39;</span>])</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Mean Squared Error (MSE):&quot;</span>, mse)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Mean Squared Error (MSE): 0.6830152425096936
</code></pre>
</div>
</div>
<div class="cell markdown">
<ul>
<li><p>Prediction Analysis Conclusion Based on the results of the
analysis and predictions, it can be concluded that:</p></li>
<li><p>The number of earthquakes increased quite drastically from 2008
to 2020, but the number of earthquakes that occurred from 2021 to 2023
was fairly constant.</p></li>
<li><p>On average, earthquakes that occurred from 2008 to 2023 had a
magnitude of 2 to 5. Only a few earthquakes occurred with SR 6 to
7.</p></li>
<li><p>Most earthquakes in Indonesia are less than 100 km deep</p></li>
<li><p>The number of earthquakes that occur every year has increased
quite significantly</p></li>
<li><p>The number of locations where earthquakes frequently occur are
Minahasa Peninsula, Sulawesi, Sumbawa, Java, North of Sumatra Island,
South of Sumatra Island, Banda Sea, Halmahera, Irian Jaya and South of
Java Island.</p></li>
<li><p>The largest earthquake occurred in 2009 in Irian Jaya with a
magnitude of 7.9 SR and an earthquake with a magnitude of 7.7 SR
occurred in 2009 in the South of Sumatra Island, in 2020 in the North of
Sumatra Island and in 2016 in the Southwest of Sulawesi Island</p></li>
<li><p>The predicted strength of earthquakes in Indonesia until 2026 is
no more than 5 on the Richter scale</p></li>
<li><p>The predicted strength of the earthquake in Indonesia will be the
highest for the next 1 year in 2024, namely 3.6 on the Richter
scale</p></li>
</ul>
</div>
</body>
</html>
